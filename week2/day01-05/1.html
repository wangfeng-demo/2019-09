<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

</body>

</html>
<script>
   function Fn(n,m) {
        n=n||0;
        m=m||0;
        this.x = n;
        this.y = m;
        this.getX = function () {
            console.log(this.x);
        }
        return n+m;
    }
    Fn.prototype.sum=function(){
        console.log(this.x+this.y);
    }
    Fn.prototype={
        getX:function(){
            this.x+=1;
            console.log(this.x);
        },
        getY:function(){
            this.y-=1;
            console.log(this.y);
        }
    };
    let f1 = new Fn(10,20);
    let f2 = new Fn;
    console.log(f1.getX === f2.getX);//false
    console.log(f1.getY === f2.getY);//true
    console.log(f1.__proto__.getY === Fn.prototype.getY);//true
    console.log(Fn.prototype.getX === f2.getX);//false
    console.log(f1.constructor);//object
    f1.getX();//10
    Fn.prototype.getX();//NaN
    f2.getY();//-1
    Fn.prototype.getY();//NaN
    //f1.sum();//报错
     

    /* var name = '珠峰培训';
    function A(){
        console.log(1,this.name);
    }   
    function B(){
        console.log(2,this.name);
    }
    A.call(B,10);//1,B
    A.call.call.call(B);//2,珠峰
    Function.prototype.call(B);//空
    Function.prototype.call.call.call(B);//2,珠峰   
     */


    /* var name = "WINDOW";
    function fn(){
        console.log(this.name);
    }
    var obj = {
        name:"OBJ",
        fn:()=>{
            console.log(this.name);
        }
    };
    fn();//WINDOW
    obj.fn();// WINDOW
    fn.call(obj);// OBJ
    window.onload=function(){
        fn();//Window
        obj.fn();//WINDOW
    };
    fn.bind(obj); */



    /* var print = function () { alert(1); }
    function Fn() {
        print = function () {
            alert(2);
        }
        return this;
    }
    function print() { alert(3); }
    Fn.prototype.print = function () { alert(4); }
    Fn.print = function () { alert(5); }

    print();//1
    Fn.print();//5
    Fn().print();//2
    new Fn.print();//5
    new Fn().print();//4

    // 箭头函数（Arrow Functions）  ary.sort((a,b)=>a-b)
    
                                   Math.max(...ary)

    // 剩余运算符                var fn = function(...ary){
                                }

    // 解构（Destructuring）  var a = [1,2],b = [4,5]
                             var c = [...a,...b]
                             console.log(c)

                             [...arguments]
    // 默认和剩余参数（Default and Rest Parameters）
    



// let ary = [12,23,12,13,13,12,23,14,8];
//=>实现你的代码（至少三种）
    // var res=Math.max(...ary)
    // var res= ary.sort((a,b)=>b-a)[0];
    // var res=Math.max.apply(null,ary);
    // var res=Math.max.call(null,12,23,12,13,13,12,23,14,8);
    /* var max=ary[0];
    for(var i=1;i<ary.length;i++){
        if(max<=ary[i]){
            var temp=max;
            max=ary[i];
            ary[i]=temp
        }
    }
    console.log(max); */


    /*分析下面的changeThis方法该如何实现？*/
    /* Function.prototype.changeThis = function changeThis(context,...arg) {
        //=>实现你的代码
         context.$fn = this;
         context.$fn(...arg);   
         delete context.$fn;
    };
    let obj = { name: 'Alibaba' };
    function fn(x, y) {
        this.total = x + y;
        return this;
    }
    let res = fn.changeThis(obj, 100, 200);
    res = {name:'Alibaba',total:300}
    console.log(res); */
    



    /*编写unique方法，实现如下的效果：先去重后排序*/
    // Array.prototype.myUnique = function () {
    //     for (var i = 0; i < this.length; i++) {
    //         var temp = this[i];
    //         for (let j = i + 1; j < this.length; j++) {
    //             if (temp === this[j]) {
    //                 this.splice(j, 1);
    //                 j--;
    //             }
    //         }
    //     }
    //     return this;
    // }
    // let ary = [12, 23, 12, 13, 13, 12, 23, 14, 8];
    // console.log(ary.myUnique().sort((a, b) => a - b));


    let utils = (function(){
    /*
     * toArray：转换为数组的方法
     *   @params
     *      不固定数量，不固定类型
     *   @return
     *      [Array] 返回的处理后的新数组
     * by zhufengpeixun on 2019/08/12
     */
    function toArray(a,...age){
        //实现你的代码
    var arr =  [];
    arr.push(a);
    age.forEach((v)=>{
        arr.push(v);
    })
    return arr
    }
    return {
        toArray
    };
})();
let ary = utils.toArray(10,20,30);
//ary=[10,20,30]
 console.log(ary);

ary = utils.toArray('A',10,20,30);
//ary=['A',10,20,30]
console.log(ary);

</script>