<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>珠峰培训-考试题讲解</title>
</head>

<body>
	<script>
		/* //=>Array.prototype.push:向数组的末尾追加新的内容
		Array.prototype.push = function anonymous(value) {
			this[this.length] = value;
			//this.length++
			return this.length;
		}
		let obj = {
			0: 3,
			1: 4,
			length: 0,
			push: Array.prototype.push
		}
		obj.push(10);
		obj.push(20);
		console.log(obj); */
	</script>

	<script>
		/* Function.prototype.call = function anonymous(context) {
			context = context || window;
			let args = Array.from(arguments).slice(1),
				result = null,
				property = Symbol('zhufeng');
			//=>this:func
			//=>context:obj
			//=>args:[10,20]
			context[property] = this;
			result = context[property](...args);
			delete context[property];
			return result;
		}
		// func.call(obj,10,20); 
		// 1.把func方法执行
		// 2.把func中的this指向为obj
		// 3.把10/20传递给func
		function func() {
			//=>this:obj
		}
		let obj = {
			$fn: func
		};
		let result = obj.$fn(10, 20);
		delete obj.$fn; */

		/* Function.prototype.call = function anonymous(context) {
			context = context || window;
			let args = Array.from(arguments).slice(1),
				result = null;
			context.$fn = this;
			result = context.$fn(...args);
			delete context.$fn;
			return result;
		}
		var name = '珠峰培训';
		function A(x, y) {
			var res = x + y;
			console.log(res, this.name);
		}
		function B(x, y) {
			var res = x - y;
			console.log(res, this.name);
		}
		B.call(A, 40, 30);//=>把B执行,B中的THIS是A,给B传递40/30  =>10 "A"
		B.call.call.call(A, 20, 10);
		Function.prototype.call(A, 60, 50);
		Function.prototype.call.call.call(A, 80, 70); */

		// func.call(obj,10,20)
		// Function.prototype.call.call(func,obj,10,20)
		//=>Function.prototype.call:@A
		//=>@A执行,@A中的THIS是func,给@A传递obj/10/20
		//this:func
		//context:obj
		//args:[10,20]
		// obj.$fn=func;
		// obj.$fn(10,20);

		// Array.prototype.slice.call(arguments,0);
	</script>

	<script>
		/* function A() {
			alert(1);
		}
		function Func() {
			A = function () {
				alert(2);
			};
			return this;
		}
		Func.A = A;//=>ALERT(1)
		Func.prototype = {
			A: () => {
				alert(3);
			}
		};
		A(); //=>"1"
		Func.A();//=>"1"
		Func().A();//=>先让全局的A变为ALERT(2)的函数 //=>window.A  //=>"2"
		new Func.A();//=>Func.A   //=>new 弹出1的函数()  //=>"1"
		new Func().A();//=>new Func() //=>实例.A()  //=>"3"
		new new Func().A(); //=>new Func() //=>new 实例.A() =>new 弹出3的箭头函数()  
		//=>箭头函数不能被NEW，因为没有自己THIS，更主要的是箭头函数没有prototype

		// new Func; //=>无参数NEW 18
		// new Func(); //=>有参数NEW 19
		// xxx.xxx; //=>成员访问 19 */
	</script>

	<script>
		~ function () {
			function bind(context) {
				context = context || window;
				let outerArgs = [].slice.call(arguments, 1),
					_this = this;
				return function anonymous() {
					let innerArgs = [].slice.call(arguments, 0);
					//=>在这里要把FUNC执行
					_this.apply(context, outerArgs.concat(innerArgs));
				}
			};
			Function.prototype.bind = bind;
		}();
		// document.body.onclick = func.bind(obj, 100, 200);
		//=>document.body.onclick = function anonymous(ev) {}
	</script>
</body>

</html>