<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

</body>

</html>
<script src="./axios.js"></script>
<script src=''>
    axios.get('./data.json', {
        params: {
            a: 666,
            b: 777
        }
    }).then(function (data) {
        console.log(data)
    }, function (err) {
        console.log(err)
    })
    //////////////////////////////////////////////////////////////////
    axios.post('./data3.json', {
        a: 123,
        b: 234
    }).then((data) => {
        console.log(data)
    }, (err) => {
        console.log(err)
    })

    /////////////////////////////////////////////////////////////////////////

    axios({
        method: 'get',
        url: './data2.json',
        params: {
            q: 12,
            b: 13
            //params属性  为get 准备的
        }
        /* data: {
            q: 12,
            b: 13
            //data 属性  为post 准备的
        } */
    }).then((data) => {
        console.log(data);
    }, (err) => {
        console.log(err);
    });
</script>
<script>
    //跨域：  协议  域名  端口  三者有一个不一样就是跨域
    //同源策略 浏览器的安全机制 ===>>> 导致跨域(只存在前端)
    axios.defaults.baseURL = 'http://127.0.0.1:5500/week5/day3';
    axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';
    axios.defaults.transformRequest = function(data={}){
        let str = '';
        for (let k in data) {
           str +=`&${k} = ${data[k]}`
        }
        console.log(data);
        return str.slice(1)
    }
    axios.post('newbid/user_status', {
        "userid": "zhangsan",
        "name": "张三",
        "orderInDepts": "{1:10, 2:20}",
        "department": [1, 2],
        "position": "产品经理",
        "mobile": "1xxxxxxxxxx",
        "tel": "xxxx-xxxxxxxx",
        "workPlace": "",
        "remark": "",
        "email": "test@xxx.com",
        "orgEmail": "test@xxx.com",
        "jobnumber": "xxx",
        "isHide": false,
        "isSenior": false,
        "extattr": {
            "爱好": "旅游",
            "年龄": "24"
        }
    }).then((data)=>{
        console.log(data)
    }).catch((err)=>{
        console.log(err)
    })

</script>